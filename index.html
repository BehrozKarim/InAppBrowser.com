<head>
    <meta name="viewport" content="user-scalable=no, width=device-width">
</head>
<h1>Test Website</h1>
<p id="res"></p>
<!-- <span id="iab-pcm-sdk" /> -->

<script type="text/javascript">
    const res = document.getElementById("res")

    const originalCreateElement = document.createElement
    document.createElement = function(a) {
        res.innerHTML += "<br /><br />createElement => " + a + " (" + this + "-" + arguments + ")"
        let fakeResponse = originalCreateElement.apply(this, arguments)
        fakeResponse.setAttribute = function(k, v) {
            res.innerHTML += "<br />fakeResponse/createElement setAttribute => " + k + "=" + v
        }
        fakeResponse.appendChild = function(c) {
            res.innerHTML += "<br />fakeResponse/createElement appendChild => " + c
        }
        fakeResponse.insertBefore = function(c, b) {
            res.innerHTML += "<br />fakeResponse/createElement insertBefore => " + c + " before " + b
        }
        fakeResponse.innerHTML = function(v) {
            res.innerHTML += "<br />fakeResponse/createElement innerHTML => " + v
        }
        Object.defineProperty(fakeResponse, "src", {
            get: function() {
                res.innerHTML += "<br />fakeResponse/createElement get => "
                return typeof bar !== "undefined" ? bar : proto.bar;
            },
            set: function(value) {
                res.innerHTML += "<br />fakeResponse/createElement set => " + value
                bar = value;
            }
        });
        fakeResponse.innerText = function(v) {
            res.innerHTML += "<br />fakeResponse/createElement innerText => " + v
        }
        return fakeResponse
    }
    const originalGetElementById = document.getElementById
    document.getElementById = function(a, b) {
        res.innerHTML += "<br /><br />getElementById => " + a
        return originalGetElementById.apply(this, arguments);
    }

    const originalGetElement = document.getElementsByTagName
    document.getElementsByTagName = function(a, b) {
        res.innerHTML += "<br /><br />getElementsByTagName => " + a
        const fakeFrame = originalCreateElement.apply(this, arguments);
        Object.defineProperty(fakeFrame, "src", {
            get: function() {
                res.innerHTML += "<br />fakeResponse/createElement get => "
                return typeof bar !== "undefined" ? bar : proto.bar;
            },
            set: function(value) {
                res.innerHTML += "<br />fakeResponse/createElement set => " + value
                bar = value;
            }
        });
        let fakeResponse = [fakeFrame]
        return fakeResponse;
    }
</script>

<style type="text/css">
    body {
        background-color: #f0f0f0;
        font-family: sans-serif;
    }
    
    h1 {
        font-size: 1.5em;
    }
</style>